/* Enhanced responsive styles */

/* Base responsive adjustments */
html,
body {
  overflow-x: hidden;
  width: 100%;
  height: 100%;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: none;
}

/* Extra small devices (phones, 480px and down) */
@media (max-width: 480px) {
  .xs-hidden {
    display: none !important;
  }

  .xs-full-width {
    width: 100% !important;
  }

  .xs-text-xs {
    font-size: 0.75rem !important;
  }

  .xs-py-1 {
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
  }

  .xs-px-2 {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  .mapboxgl-ctrl-group {
    transform: scale(0.85);
    transform-origin: bottom right;
  }

  .mapboxgl-ctrl-bottom-right {
    bottom: 70px !important;
    right: 10px !important;
  }

  .mapboxgl-ctrl-bottom-left {
    bottom: 10px !important;
    left: 10px !important;
  }

  .custom-marker {
    transform: scale(0.75) !important;
  }

  .animate-cloud-fast {
    animation-duration: 30s !important;
  }

  .animate-cloud-medium {
    animation-duration: 40s !important;
  }

  .animate-cloud-slow {
    animation-duration: 50s !important;
  }
}

/* Small devices (phones, 640px and down) */
@media (max-width: 640px) {
  .mobile-nav-compact {
    padding: 0.5rem !important;
  }

  .mobile-hidden {
    display: none !important;
  }

  .mobile-full-width {
    width: 100% !important;
  }

  .mobile-text-sm {
    font-size: 0.875rem !important;
  }

  .mobile-py-1 {
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
  }

  .mobile-px-2 {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  .map-controls {
    transform: scale(0.9);
    transform-origin: bottom right;
  }

  .map-overlay-text {
    font-size: 0.75rem !important;
  }

  .custom-marker {
    transform: scale(0.85);
  }

  .animate-cloud-fast {
    animation-duration: 35s !important;
  }

  .animate-cloud-medium {
    animation-duration: 45s !important;
  }

  .animate-cloud-slow {
    animation-duration: 55s !important;
  }
}

/* Tablet adjustments (641px to 768px) */
@media (min-width: 641px) and (max-width: 768px) {
  .tablet-py-2 {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  .tablet-px-4 {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  .custom-marker {
    transform: scale(0.9);
  }
}

/* Medium devices (tablets, 769px to 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  .md-hidden {
    display: none !important;
  }

  .custom-marker {
    transform: scale(0.95);
  }
}

/* Large devices (desktops, 1025px and up) */
@media (min-width: 1025px) {
  .custom-marker {
    transform: scale(1);
  }
}

/* Touch-friendly adjustments */
@media (hover: none) {
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  button,
  [role="button"],
  a {
    cursor: default !important;
  }

  .mapboxgl-ctrl button {
    min-width: 36px;
    min-height: 36px;
  }
}

/* Support for reduced motion */
@media (prefers-reduced-motion: reduce) {
  .animate-fly,
  .animate-cloud-fast,
  .animate-cloud-medium,
  .animate-cloud-slow,
  .animate-float {
    animation: none !important;
    transition: none !important;
  }

  .mapboxgl-popup {
    transition: none !important;
  }
}

/* High contrast mode support */
@media (forced-colors: active) {
  .mapboxgl-ctrl-icon {
    forced-color-adjust: none;
  }

  .custom-marker {
    forced-color-adjust: none;
  }
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
  .mapboxgl-ctrl-group {
    background-color: rgba(0, 0, 0, 0.7) !important;
  }

  .mapboxgl-ctrl-group button {
    background-color: transparent !important;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }

  .mapboxgl-map {
    height: 100% !important;
    page-break-inside: avoid;
  }
}

/* Landscape orientation adjustments */
@media (orientation: landscape) and (max-height: 500px) {
  .mapboxgl-ctrl-bottom-right {
    bottom: 10px !important;
  }

  .weather-widget {
    transform: scale(0.8);
    transform-origin: top left;
  }
}

/* Ensure map controls are always accessible */
.mapboxgl-ctrl-group {
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}

/* Ensure map markers are always visible */
.mapboxgl-marker {
  z-index: 1 !important;
}

.mapboxgl-marker:hover {
  z-index: 2 !important;
}

/* Ensure popups are always on top */
.mapboxgl-popup {
  z-index: 3 !important;
}

/* Ensure UI elements are always accessible */
.ui-layer {
  z-index: 10 !important;
}

/* Cloud animations */
@keyframes cloud-fast {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100vw);
  }
}

@keyframes cloud-medium {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100vw);
  }
}

@keyframes cloud-slow {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100vw);
  }
}

.animate-cloud-fast {
  animation: cloud-fast 30s linear infinite;
}

.animate-cloud-medium {
  animation: cloud-medium 40s linear infinite;
}

.animate-cloud-slow {
  animation: cloud-slow 50s linear infinite;
}
